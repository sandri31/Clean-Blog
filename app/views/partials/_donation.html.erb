<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header justify-content-center">
        <h1 class="modal-title fs-5 text-white" id="exampleModalLabel">Merci pour votre soutien !</h1>
        <button type="button" class="btn-close position-absolute end-0 me-2" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
      Faire un don me permet de continuer à développer des projets open source et à partager mes connaissances sur mon blog.<br><br>
      Si vous appréciez mon travail, vous pouvez me soutenir en faisant un don.
      </div>
      <div class="modal-footer justify-content-center">
        <%= form_with url: "/create-checkout-session", method: "post", local: true, data: { turbo: false }, class: "form-inline" do %>
          <div class="d-flex justify-content-center mb-2">
            <%= button_tag "1 euro", name: "price_id", value: "price_1NaLLgDMXuq8UgRgX81hd5hx", class: "btn btn-primary rounded px-3 py-2 mx-1" %>
            <%= button_tag "2 euros", name: "price_id", value: "price_1NY6yYDMXuq8UgRgpqYz5jRK", class: "btn btn-primary rounded px-3 py-2 mx-1" %>
            <%= button_tag "5 euros", name: "price_id", value: "price_1NaLN0DMXuq8UgRg6xcDT4RR", class: "btn btn-primary rounded px-3 py-2 mx-1" %>
          </div>
          <div class="d-flex justify-content-center mb-2">Ou</div>
          <div class="d-flex justify-content-center">
            <%= number_field_tag "amount", nil, min: 1, step: 1, class: "form-control mx-1 amount-input", placeholder: "Entrez le montant en euro", oninput: "enableButton(this)" %>
            <%= button_tag "Valider", class: "btn btn-primary rounded px-3 py-2 mx-1 w-100", disabled: true, id: "amountButton" %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
<script>
function enableButton(input) {
  var button = document.getElementById('amountButton');
  button.disabled = !input.value;
}
</script>
